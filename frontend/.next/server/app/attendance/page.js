(()=>{var e={};e.id=344,e.ids=[344],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5380:(e,t,n)=>{Promise.resolve().then(n.bind(n,67049))},8819:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=(0,n(62688).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31158:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=(0,n(62688).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},32504:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>l,routeModule:()=>m,tree:()=>d});var r=n(65239),o=n(48088),a=n(88170),i=n.n(a),s=n(30893),c={};for(let e in s)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>s[e]);n.d(t,c);let d={children:["",{children:["attendance",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,42932)),"/tmp/cc-agent/59306521/project/frontend/src/app/attendance/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(n.bind(n,59645))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(n.bind(n,94431)),"/tmp/cc-agent/59306521/project/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(n.t.bind(n,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(n.t.bind(n,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(n.bind(n,59645))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,l=["/tmp/cc-agent/59306521/project/frontend/src/app/attendance/page.tsx"],u={require:n,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/attendance/page",pathname:"/attendance",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},33873:e=>{"use strict";e.exports=require("path")},39126:()=>{},40228:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=(0,n(62688).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},41312:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=(0,n(62688).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},42932:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});let r=(0,n(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/tmp/cc-agent/59306521/project/frontend/src/app/attendance/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/tmp/cc-agent/59306521/project/frontend/src/app/attendance/page.tsx","default")},57504:()=>{},59645:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(31658);let o=async e=>[{type:"image/svg+xml",sizes:"any",url:(0,r.fillMetadataSegment)(".",await e.params,"icon.svg")+"?a2a2e657352acb36"}]},61135:()=>{},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},67049:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>G});var r=n(60687),o=n(43210),a=n(31158),i=n(8819),s=n(41312),c=n(40228),d=n(93613),l=n(64722),u=n(78872),m=n(31504),h=n(29789),f=n(58505),O=n(23711);function p(e,t){let n=(0,O.a)(e,t?.in);return n.setHours(0,0,0,0),n}function x(e,t){let n=(0,u.q)(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=(0,O.a)(e,t?.in),a=o.getDay();return o.setDate(o.getDate()-(7*(a<r)+a-r)),o.setHours(0,0,0,0),o}function N(e,t){return x(e,{...t,weekStartsOn:1})}var w=n(87981);function b(e,t){let n=(0,O.a)(e,t?.in),r=n.getFullYear(),o=(0,w.w)(n,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);let a=N(o),i=(0,w.w)(n,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);let s=N(i);return n.getTime()>=a.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function v(e,t){let n=(0,O.a)(e,t?.in),r=n.getFullYear(),o=(0,u.q)(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,i=(0,w.w)(t?.in||e,0);i.setFullYear(r+1,0,a),i.setHours(0,0,0,0);let s=x(i,t),c=(0,w.w)(t?.in||e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);let d=x(c,t);return+n>=+s?r+1:+n>=+d?r:r-1}function g(e,t){let n=Math.abs(e).toString().padStart(t,"0");return(e<0?"-":"")+n}let E={y(e,t){let n=e.getFullYear(),r=n>0?n:1-n;return g("yy"===t?r%100:r,t.length)},M(e,t){let n=e.getMonth();return"M"===t?String(n+1):g(n+1,2)},d:(e,t)=>g(e.getDate(),t.length),a(e,t){let n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>g(e.getHours()%12||12,t.length),H:(e,t)=>g(e.getHours(),t.length),m:(e,t)=>g(e.getMinutes(),t.length),s:(e,t)=>g(e.getSeconds(),t.length),S(e,t){let n=t.length;return g(Math.trunc(e.getMilliseconds()*Math.pow(10,n-3)),t.length)}},D={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},_={G:function(e,t,n){let r=+(e.getFullYear()>0);switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){let t=e.getFullYear();return n.ordinalNumber(t>0?t:1-t,{unit:"year"})}return E.y(e,t)},Y:function(e,t,n,r){let o=v(e,r),a=o>0?o:1-o;return"YY"===t?g(a%100,2):"Yo"===t?n.ordinalNumber(a,{unit:"year"}):g(a,t.length)},R:function(e,t){return g(b(e),t.length)},u:function(e,t){return g(e.getFullYear(),t.length)},Q:function(e,t,n){let r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return g(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){let r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return g(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){let r=e.getMonth();switch(t){case"M":case"MM":return E.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){let r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return g(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){let o=function(e,t){let n=(0,O.a)(e,t?.in);return Math.round((x(n,t)-function(e,t){let n=(0,u.q)(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=v(e,t),a=(0,w.w)(t?.in||e,0);return a.setFullYear(o,0,r),a.setHours(0,0,0,0),x(a,t)}(n,t))/f.my)+1}(e,r);return"wo"===t?n.ordinalNumber(o,{unit:"week"}):g(o,t.length)},I:function(e,t,n){let r=function(e,t){let n=(0,O.a)(e,void 0);return Math.round((N(n)-function(e,t){let n=b(e,void 0),r=(0,w.w)(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),N(r)}(n))/f.my)+1}(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):g(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):E.d(e,t)},D:function(e,t,n){let r=function(e,t){let n=(0,O.a)(e,void 0);return function(e,t,n){let[r,o]=(0,h.x)(void 0,e,t),a=p(r),i=p(o);return Math.round((a-(0,m.G)(a)-(i-(0,m.G)(i)))/f.w4)}(n,function(e,t){let n=(0,O.a)(e,void 0);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}(n))+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):g(r,t.length)},E:function(e,t,n){let r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){let o=e.getDay(),a=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return g(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){let o=e.getDay(),a=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return g(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){let r=e.getDay(),o=0===r?7:r;switch(t){case"i":return String(o);case"ii":return g(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){let r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){let r,o=e.getHours();switch(r=12===o?D.noon:0===o?D.midnight:o/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){let r,o=e.getHours();switch(r=o>=17?D.evening:o>=12?D.afternoon:o>=4?D.morning:D.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return E.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):E.H(e,t)},K:function(e,t,n){let r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):g(r,t.length)},k:function(e,t,n){let r=e.getHours();return(0===r&&(r=24),"ko"===t)?n.ordinalNumber(r,{unit:"hour"}):g(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):E.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):E.s(e,t)},S:function(e,t){return E.S(e,t)},X:function(e,t,n){let r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return U(r);case"XXXX":case"XX":return M(r);default:return M(r,":")}},x:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case"x":return U(r);case"xxxx":case"xx":return M(r);default:return M(r,":")}},O:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+j(r,":");default:return"GMT"+M(r,":")}},z:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+j(r,":");default:return"GMT"+M(r,":")}},t:function(e,t,n){return g(Math.trunc(e/1e3),t.length)},T:function(e,t,n){return g(+e,t.length)}};function j(e,t=""){let n=e>0?"-":"+",r=Math.abs(e),o=Math.trunc(r/60),a=r%60;return 0===a?n+String(o):n+String(o)+t+g(a,2)}function U(e,t){return e%60==0?(e>0?"-":"+")+g(Math.abs(e)/60,2):M(e,t)}function M(e,t=""){let n=Math.abs(e);return(e>0?"-":"+")+g(Math.trunc(n/60),2)+t+g(n%60,2)}let y=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},C=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},T={p:C,P:(e,t)=>{let n,r=e.match(/(P+)(p+)?/)||[],o=r[1],a=r[2];if(!a)return y(e,t);switch(o){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",y(o,t)).replace("{{time}}",C(a,t))}},L=/^D+$/,F=/^Y+$/,k=["D","DD","YY","YYYY"],S=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,P=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,A=/^'([^]*?)'?$/,q=/''/g,Y=/[a-zA-Z]/;function H(e,t,n){let r=(0,u.q)(),o=n?.locale??r.locale??l.c,a=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=(0,O.a)(e,n?.in);if(!(s instanceof Date||"object"==typeof s&&"[object Date]"===Object.prototype.toString.call(s))&&"number"!=typeof s||isNaN(+(0,O.a)(s)))throw RangeError("Invalid time value");let c=t.match(P).map(e=>{let t=e[0];return"p"===t||"P"===t?(0,T[t])(e,o.formatLong):e}).join("").match(S).map(e=>{if("''"===e)return{isToken:!1,value:"'"};let t=e[0];if("'"===t)return{isToken:!1,value:function(e){let t=e.match(A);return t?t[1].replace(q,"'"):e}(e)};if(_[t])return{isToken:!0,value:e};if(t.match(Y))throw RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});o.localize.preprocessor&&(c=o.localize.preprocessor(s,c));let d={firstWeekContainsDate:a,weekStartsOn:i,locale:o};return c.map(r=>{if(!r.isToken)return r.value;let a=r.value;return(!n?.useAdditionalWeekYearTokens&&F.test(a)||!n?.useAdditionalDayOfYearTokens&&L.test(a))&&function(e,t,n){let r=function(e,t,n){let r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(r),k.includes(e))throw RangeError(r)}(a,t,String(e)),(0,_[a[0]])(s,a,o.localize,d)}).join("")}function G(){let[e,t]=(0,o.useState)(""),[n,l]=(0,o.useState)(new Date),[u,m]=(0,o.useState)([]),[h,f]=(0,o.useState)([]),[O,p]=(0,o.useState)(!1),[x,N]=(0,o.useState)(!1),[w,b]=(0,o.useState)(!0),{toast:v}=Object(function(){var e=Error("Cannot find module '@/hooks/use-toast'");throw e.code="MODULE_NOT_FOUND",e}())(),g=(e,t)=>{m(n=>n.map(n=>n.id===e?{...n,status:t?"present":"absent"}:n))},E=async()=>{if(!e||!n)return void v({title:"Error",description:"Please select a class and date.",variant:"destructive"});try{N(!0);let t=H(n,"yyyy-MM-dd"),r=u.map(e=>({studentId:e.id,status:e.status})),o=await Object(function(){var e=Error("Cannot find module '@/services/apiService'");throw e.code="MODULE_NOT_FOUND",e}()).saveAttendanceBatch({date:t,classId:e,attendance:r});if(o.success)v({title:"Success",description:"Attendance saved successfully."});else throw Error(o.message||"Failed to save attendance")}catch(e){console.error("Save attendance error:",e),v({title:"Error",description:`Failed to save attendance: ${e.message||"Unknown error"}`,variant:"destructive"})}finally{N(!1)}},D=(e,t)=>`${e?.charAt(0)||""}${t?.charAt(0)||""}`;return(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/layout/DashboardLayout'");throw e.code="MODULE_NOT_FOUND",e}()),{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl md:text-3xl font-bold",children:"Attendance"}),(0,r.jsx)("p",{className:"text-gray-500",children:"Mark and track student attendance"}),(0,r.jsx)("p",{className:"text-sm mt-1 text-accent-info",children:"Select a class and date, then mark attendance for each student."})]}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-2 w-full md:w-auto",children:[(0,r.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/button'");throw e.code="MODULE_NOT_FOUND",e}()),{variant:"outline",onClick:()=>{if(0===u.length)return void v({title:"No Data",description:"No attendance data to export.",variant:"destructive"});let t=h.find(t=>t.id===e)?.className||h.find(t=>t.id===e)?.class_name||"Class",r=H(n,"EEEE, MMMM d, yyyy"),o=new Blob([[[`Attendance Report - ${t}`],[`Date: ${r}`],[""],["No.","Student ID","Student Name","Status","Remarks"],...u.map((e,t)=>[t+1,e.studentId||"-",`${e.firstName} ${e.lastName}`,"present"===e.status?"Present":"absent"===e.status?"Absent":e.status,e.remarks||"-"])].map(e=>e.join(",")).join("\n")],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),i=URL.createObjectURL(o);a.setAttribute("href",i),a.setAttribute("download",`Attendance_${t}_${H(n,"yyyy-MM-dd")}.csv`),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a),v({title:"Success",description:"Attendance exported successfully as CSV."})},disabled:0===u.length,className:"w-full md:w-auto",children:[(0,r.jsx)(a.A,{className:"mr-2 h-4 w-4"}),"Export"]}),(0,r.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/button'");throw e.code="MODULE_NOT_FOUND",e}()),{onClick:E,loading:x,loadingText:"Saving...",disabled:O||!e||0===u.length,className:"w-full md:w-auto",children:[(0,r.jsx)(i.A,{className:"mr-2 h-4 w-4"}),"Save Attendance"]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6",children:[(0,r.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"pb-2",children:(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"text-xs md:text-sm font-medium",children:"Total Students"})}),(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:(0,r.jsx)("div",{className:"text-xl md:text-2xl font-bold text-accent-neutral",children:u.length})})]}),(0,r.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"pb-2",children:(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"text-xs md:text-sm font-medium",children:"Present"})}),(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:(0,r.jsx)("div",{className:"text-xl md:text-2xl font-bold text-accent-success",children:u.filter(e=>"present"===e.status).length})})]}),(0,r.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"pb-2",children:(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"text-xs md:text-sm font-medium",children:"Absent"})}),(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:(0,r.jsx)("div",{className:"text-xl md:text-2xl font-bold text-accent-crit",children:u.filter(e=>"absent"===e.status).length})})]}),(0,r.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"pb-2",children:(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"text-xs md:text-sm font-medium",children:"Late"})}),(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:(0,r.jsx)("div",{className:"text-xl md:text-2xl font-bold text-accent-warn",children:u.filter(e=>"late"===e.status).length})})]})]}),(0,r.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[(0,r.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:"Select Class & Date"}),(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:"Choose a class and date to mark attendance"})]}),(0,r.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/label'");throw e.code="MODULE_NOT_FOUND",e}()),{htmlFor:"class",className:"text-sm font-semibold flex items-center gap-2",children:[(0,r.jsx)(s.A,{className:"h-4 w-4"}),"Class *"]}),(0,r.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{value:e,onValueChange:t,disabled:O,children:[(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{id:"class",className:"w-full h-11",children:(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{placeholder:"Select a class",children:e?h.find(t=>t.id===e)?.className||h.find(t=>t.id===e)?.class_name||"Unknown Class":"Select a class"})}),(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{children:h.length>0?h.map(e=>(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{value:e.id,children:e.className||e.class_name||"Unnamed Class"},e.id)):(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{value:"no-classes",disabled:!0,children:"No classes available"})})]}),e&&(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:[u.length," student",1!==u.length?"s":""," in this class"]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/label'");throw e.code="MODULE_NOT_FOUND",e}()),{htmlFor:"date",className:"text-sm font-semibold flex items-center gap-2",children:[(0,r.jsx)(c.A,{className:"h-4 w-4"}),"Date *"]}),(0,r.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/popover'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/popover'");throw e.code="MODULE_NOT_FOUND",e}()),{asChild:!0,children:(0,r.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/button'");throw e.code="MODULE_NOT_FOUND",e}()),{id:"date",variant:"outline",className:Object(function(){var e=Error("Cannot find module '@/lib/utils'");throw e.code="MODULE_NOT_FOUND",e}())("w-full h-11 justify-start text-left font-normal",!n&&"text-muted-foreground"),disabled:O||!e,children:[(0,r.jsx)(c.A,{className:"mr-2 h-4 w-4"}),n?H(n,"EEEE, MMMM d, yyyy"):(0,r.jsx)("span",{children:"Pick a date"})]})}),(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/popover'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"w-auto p-0 border-2",align:"start",children:(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/calendar'");throw e.code="MODULE_NOT_FOUND",e}()),{mode:"single",selected:n,onSelect:e=>e&&l(e),initialFocus:!0})})]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:n?H(n,"PPP"):"Select date to mark attendance"})]})]}),0===h.length&&!O&&(0,r.jsxs)("div",{className:"flex items-center gap-3 p-4 mt-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,r.jsx)(d.A,{className:"h-5 w-5 text-yellow-600 flex-shrink-0"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-yellow-800",children:"No classes found"}),(0,r.jsx)("p",{className:"text-sm text-yellow-700",children:"Please create classes in the Classes section to start marking attendance."})]})]})]})]}),(0,r.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[(0,r.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:"Attendance Records"}),(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:e&&n?`Attendance for ${h.find(t=>t.id===e)?.className||h.find(t=>t.id===e)?.class_name||"Selected Class"} on ${n?H(n,"PPP"):""}`:"Select a class and date to view attendance records"})]}),(0,r.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[O?(0,r.jsx)("div",{className:"flex justify-center py-8",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):0===u.length&&e?(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/data-not-found'");throw e.code="MODULE_NOT_FOUND",e}()),{entity:"students"}):(0,r.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/table'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/table'");throw e.code="MODULE_NOT_FOUND",e}()),{children:(0,r.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/table'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/table'");throw e.code="MODULE_NOT_FOUND",e}()),{children:"Student"}),(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/table'");throw e.code="MODULE_NOT_FOUND",e}()),{children:"Student ID"}),(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/table'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"text-center",children:"Present"}),(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/table'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"text-center",children:"Absent"})]})}),(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/table'");throw e.code="MODULE_NOT_FOUND",e}()),{children:u.map(e=>(0,r.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/table'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/table'");throw e.code="MODULE_NOT_FOUND",e}()),{children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/avatar'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/avatar'");throw e.code="MODULE_NOT_FOUND",e}()),{src:e.profileImage}),(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/avatar'");throw e.code="MODULE_NOT_FOUND",e}()),{children:D(e.firstName,e.lastName)})]}),(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"font-medium",children:[e.firstName," ",e.lastName]})})]})}),(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/table'");throw e.code="MODULE_NOT_FOUND",e}()),{children:e.studentId}),(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/table'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"text-center",children:(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/checkbox'");throw e.code="MODULE_NOT_FOUND",e}()),{checked:"present"===e.status,onCheckedChange:t=>g(e.id,t),className:"mx-auto"})}),(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/table'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"text-center",children:(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/checkbox'");throw e.code="MODULE_NOT_FOUND",e}()),{checked:"absent"===e.status,onCheckedChange:t=>g(e.id,!t),className:"mx-auto"})})]},e.id))})]}),u.length>0&&(0,r.jsx)("div",{className:"flex justify-end mt-4",children:(0,r.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/button'");throw e.code="MODULE_NOT_FOUND",e}()),{onClick:E,loading:x,loadingText:"Saving...",children:[(0,r.jsx)(i.A,{className:"mr-2 h-4 w-4"}),"Save Attendance"]})})]})]})]})})}!function(){var e=Error("Cannot find module '@/components/layout/DashboardLayout'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/button'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/table'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/label'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/badge'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/calendar'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/popover'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/lib/utils'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/hooks/use-toast'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/avatar'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/services/apiService'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/data-not-found'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/checkbox'");throw e.code="MODULE_NOT_FOUND",e}()},68332:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,16444,23)),Promise.resolve().then(n.t.bind(n,16042,23)),Promise.resolve().then(n.t.bind(n,88170,23)),Promise.resolve().then(n.t.bind(n,49477,23)),Promise.resolve().then(n.t.bind(n,29345,23)),Promise.resolve().then(n.t.bind(n,12089,23)),Promise.resolve().then(n.t.bind(n,46577,23)),Promise.resolve().then(n.t.bind(n,31307,23))},74412:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,86346,23)),Promise.resolve().then(n.t.bind(n,27924,23)),Promise.resolve().then(n.t.bind(n,35656,23)),Promise.resolve().then(n.t.bind(n,40099,23)),Promise.resolve().then(n.t.bind(n,38243,23)),Promise.resolve().then(n.t.bind(n,28827,23)),Promise.resolve().then(n.t.bind(n,62763,23)),Promise.resolve().then(n.t.bind(n,97173,23))},75524:(e,t,n)=>{Promise.resolve().then(n.bind(n,42932))},76078:()=>{},79551:e=>{"use strict";e.exports=require("url")},93613:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=(0,n(62688).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},94431:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d,metadata:()=>c});var r=n(37413),o=n(2202),a=n.n(o),i=n(64988),s=n.n(i);n(61135),n(57504),!function(){var e=Error("Cannot find module '@/components/ui/toaster'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ErrorBoundary'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/AccessibilityProvider'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/AccessibilityMenu'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/hooks/useAuth'");throw e.code="MODULE_NOT_FOUND",e}();let c={title:"School Management System",description:"Comprehensive school management system for students, teachers, parents, and administrators.",keywords:["School Management","Education","Student Management","Next.js","TypeScript","Tailwind CSS","shadcn/ui","React"],authors:[{name:"School Management Team"}],openGraph:{title:"School Management System",description:"Comprehensive school management system",siteName:"School Management System",type:"website"},twitter:{card:"summary_large_image",title:"School Management System",description:"Comprehensive school management system"}};function d({children:e}){return(0,r.jsx)("html",{lang:"en",suppressHydrationWarning:!0,children:(0,r.jsxs)("body",{className:`${a().variable} ${s().variable} antialiased bg-background text-foreground`,children:[(0,r.jsx)("a",{href:"#main-content",className:"skip-link",children:"Skip to main content"}),(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ErrorBoundary'");throw e.code="MODULE_NOT_FOUND",e}()),{children:(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/hooks/useAuth'");throw e.code="MODULE_NOT_FOUND",e}()),{children:(0,r.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/AccessibilityProvider'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[(0,r.jsx)("main",{id:"main-content",children:e}),(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/AccessibilityMenu'");throw e.code="MODULE_NOT_FOUND",e}()),{}),(0,r.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/toaster'");throw e.code="MODULE_NOT_FOUND",e}()),{})]})})})]})})}}};var t=require("../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),r=t.X(0,[719,169,658,465],()=>n(32504));module.exports=r})();